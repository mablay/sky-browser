import{u as x,k as C,o as h,_ as B,a as D}from"./drop-zone.983f13c4.js";import{h as f,r as y,G as S,z as V,o as _,A as b,B as c,J as A,i as g,c as m,a as i,t as k,F as I,C as E,D as L,E as N,H as z,_ as $,b as v,w as F,I as w}from"./entry.be18ee89.js";const G=f({__name:"ktx-viewer",setup(p){const{loadImage:d,selectedImageAsset:o}=x(),a=y(),u=C(),e=new S;return u.add(e),V(o,async()=>{const{render:l}=a.value;if(!l||!o.value)return;const t=await d(o.value.entry);e.clear(),e.add(t),l()}),(l,t)=>(_(),b(c(A),{ref_key:"perspective",ref:a,scene:c(u),antialias:!1},null,8,["scene"]))}}),H={class:"sidebar"},J={class:"mesh-list scroll-x"},K={class:"scroll-y"},T=["id","onClick"],U=f({__name:"sidebar",props:{selected:{},items:{}},emits:["download","select"],setup(p,{emit:d}){const o=p,a=y(!0),u=g(()=>a.value?"Hide list":"Show list"),e=g(()=>o.items.map(t=>t));function l(){a.value=!a.value}return h("ArrowDown",t=>{var n;if(t.preventDefault(),!e.value)return;const s=e.value.findIndex(r=>r.name===o.selected);s<0||s>=e.value.length-1||(d("select",e.value[s+1].name),(n=document.getElementById(`mesh-${s}`))==null||n.scrollIntoView({block:"center"}))}),h("ArrowUp",t=>{var n;if(t.preventDefault(),!e.value)return;const s=e.value.findIndex(r=>r.name===o.selected);s<1||s>=e.value.length||(d("select",e.value[s-1].name),(n=document.getElementById(`mesh-${s}`))==null||n.scrollIntoView({block:"center"}))}),(t,s)=>(_(),m("div",H,[i("div",null,[i("div",{to:"/",onClick:s[0]||(s[0]=n=>t.$router.push("/")),class:"btn btn-round"}," < "),i("div",{onClick:l,class:"btn"},k(c(u)),1)]),i("div",J,[i("div",K,[(_(!0),m(I,null,E(t.items,(n,r)=>L((_(),m("div",{id:`asset-${r}`,onClick:P=>t.$emit("select",n.name),class:z({active:n.name===t.selected})},k(n.name),11,T)),[[N,c(a)]])),256))])])]))}});const Z=$(U,[["__scopeId","data-v-de128313"]]),j={class:"app"},q={key:0,class:"overlay"},M={class:"inlay"},O=f({__name:"ktx",setup(p){const{loadImageList:d,images:o,imageName:a}=x();return(u,e)=>{const l=G,t=Z,s=B,n=D;return _(),m(I,null,[i("div",j,[v(l),v(s,null,{default:F(()=>[c(o).length?(_(),b(t,{key:0,items:c(o),selected:c(a),onSelect:e[0]||(e[0]=r=>a.value=r)},null,8,["items","selected"])):w("",!0)]),_:1})]),c(o).length===0?(_(),m("div",q,[i("div",M,[v(n)])])):w("",!0)],64)}}});const W=$(O,[["__scopeId","data-v-c8bde706"]]);export{W as default};
